<launch>
  <arg name="cloud_in" default = "/point_cloud"/>

  <node pkg="octomap_server" type="octomap_server_node" name="octomap_server_with_stair">
		
        <param name="resolution"                    value="0.08"/>
		   
        <!-- Static global frame in which the map will be published. -->
		<param name="frame_id"        type="string" value="world" /> 
		<param name="base_frame_id"                 value="world"/>
		
		<!-- Maximum range in meter for inserting point cloud data when dynamically building a map. -->
		<param name="sensor_model/max_range"        value="20" />

		<param name="latch"                         value="false" />

		<param name="filter_ground"                 value="true"/>

		<param name="pointcloud_min_z" value="0" />
        <param name="pointcloud_max_z" value="3.0" /> 

		<!-- subscribe -->
		<remap from="/cloud_in" to="$(arg cloud_in)" />
		
	</node>


    <!-- build octomap without stair -->
	<node pkg="octomap_server" type="octomap_server_node" name="octomap_server_without_stair">
		
        <param name="resolution"                    value="0.08"/>
		   
        <!-- Static global frame in which the map will be published. -->
		<param name="frame_id"        type="string" value="world" /> 
		<param name="base_frame_id"                 value="world"/>
		
		<!-- Maximum range in meter for inserting point cloud data when dynamically building a map. -->
		<param name="sensor_model/max_range"        value="20" />

		<param name="latch"                         value="false" />

		<!-- filter out stair -->
        <param name="pointcloud_min_z" value="0.17" />
        <param name="pointcloud_max_z" value="3.0" /> 

		<!-- subscribe -->
		<remap from="/cloud_in" to="$(arg cloud_in)" />

        
		<remap from="octomap_binary" to="octomap_binary_pure" />
		<remap from="octomap_full" to="octomap_full_pure" />
		<remap from="occupied_cells_vis_array" to="occupied_cells_vis_array_pure" />
		<remap from="octomap_point_cloud_centers" to="octomap_point_cloud_centers_pure" />
		<remap from="projected_map" to="projected_map_pure" />
			
	</node>

</launch>

