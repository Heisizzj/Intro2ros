<launch>
  <!-- Perception pipeline. -->

  <arg name="point_cloud" default="/point_cloud"/>
  <arg name="simulation_file" default="simulation.launch"/>


  <!--Launch simulation file-->
  <include file="$(find octomap_without_z)/launch/$(arg simulation_file)" />


  <!-- Generate Point cloud from depth image -->
  <include file="$(find octomap_without_z)/launch/point_cloud.launch" >
    <arg name="point_cloud" value="$(arg point_cloud)" />
  </include>


  <!-- generate octomap -->
  <include file="$(find octomap_without_z)/launch/octomap_without_z.launch" >
    <arg name="cloud_in" value="$(arg point_cloud)"/>
  </include>

    <!-- Visualize the point cloud and octomap using rviz -->
  <node pkg="rviz" type="rviz" name="rviz" args="-d $(find octomap_without_z)/config/rviz_config.rviz"/>

</launch>
